{% extends 'admin/base.html' %}

{% block content %}

<link rel="stylesheet" href="{{ url_for('static', filename='css/admin/inserir_categoria.css') }}">

    <div class="container mt-5">
      
        <form method="POST" action="{{ url_for('segmento.atualizar_subcategoria', subcategoria_id=subcategoria.id) }}" class="backwite">
        
            {{ form.hidden_tag() }} <!-- Campo oculto gerado pelo Flask-WTF para proteger contra CSRF -->

            <!-- Campo para o nome da subcategoria -->
            <div class="mb-3">
                {{ form.nome.label(class="form-label") }}
                {{ form.nome(class="form-control", value=subcategoria.nome) }}
            </div>
            
            <!-- Select do ícone da categoria -->
            <div class="mb-3">        
                <label for="icone" class="form-label">Ícone</label>
                {{ form.icone(class="form-control", id="iconeSelect") }} <!-- Renderiza o campo select para 'icone' -->           
                 <div id="iconePreview">
                     <!-- Ícone será exibido aqui -->
                 </div>             
            </div>    

            <!-- Campo para a descrição da subcategoria -->
            <div class="mb-3">
                {{ form.descricao.label(class="form-label") }}
                {{ form.descricao(class="form-control", value=subcategoria.descricao) }}
            </div>

            <!-- Campo para selecionar a categoria da subcategoria -->
            <div class="mb-3">
                {{ form.categoria_id.label(class="form-label") }}
                {{ form.categoria_id(class="form-control", selected=subcategoria.categoria_id) }}
            </div>           

            <!-- Botão de submit para atualizar a subcategoria -->
            <button type="submit" class="btn btn-default">
                <i class="fas fa-save"></i> Atualizar Subcategoria
            </button>

            <!-- Botão para voltar -->
            <a href="{{ url_for('segmento.ver_categoria') }}" class="btn btn-cancelar">
                <i class="fas fa-times"></i> Cancelar
            </a>
            
        </form>
    </div>
    
<script src="{{ url_for('static', filename='js/admin/inserir_categoria.js') }}"></script>
    
{% endblock %}
